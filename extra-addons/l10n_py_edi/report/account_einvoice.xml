<odoo>

    <template id="l10n_py_edi.account_einvoice_header">
        <div class="header">
            <table width="100%" height="30" style="font-size:10px; border-collapse: separate; " cellspacing="0" cellpadding="0">
                <tr>
                    <td>
                        <span t-raw="report.get_printing_format_header(record=invoice)"/>
                    </td>
                </tr>
            </table>
        </div>
    </template>

    <template id="l10n_py_edi.account_einvoice_page">
        <div class="page" style="padding-right:5px; border-collapse: separate;  ">
            <table style="font-size:13px; border:1px solid black; border-collapse: separate;"
                   width="100%">
                <tr>
                    <td style="padding-left:10px; " width="50%">
                        <strong>Issue Date:</strong><span style="padding-left:5px;" t-field="invoice.invoice_date"/>
                    </td>
                    <td style="padding-left:10px; white-space:nowrap; " width="50%" colspan="2">
                        <strong>Payment Type:
                            <t t-if="invoice.payment_type == '1'">Immediate ( X ) Credit (<span style="color:white;">___</span>)</t>
                            <t t-if="invoice.payment_type == '2'">Immediate (<span style="color:white;">___</span>) Credit ( X )
                                <span style="padding-left:10px; padding-right:10px; ">Due Date: </span><span t-field="invoice.invoice_date_due"/></t>
                        </strong>
                    </td>
                </tr>
                <tr>
                    <td style="padding-left:10px; ">
                        <strong>Name or Fiscal Name:</strong><span style="padding-left:5px;" t-field="invoice.partner_id.name"/>
                    </td>
                    <t t-if="invoice.move_type == 'out_refund' ">
                        <t t-if="invoice.reverted_invoice_ids">
                            <td style="padding-left:10px; " colspan="2" width="50%">
                                <strong>Related Document CDC: <span style="padding-left:5px;"
                                                                    t-field="invoice.reverted_invoice_ids[0].reverted_cdc"/></strong>
                            </td>
                        </t>
                        <t t-else="">
                            <td></td>
                            <td></td>
                        </t>
                    </t>
                    <t t-else="">
                        <td></td>
                        <td></td>
                    </t>
                </tr>
                <tr>
                    <td style="padding-left:10px; " width="50%">
                        <strong>VAT:</strong><span style="padding-left:5px;" t-field="invoice.partner_id.vat"/>
                    </td>
                    <t t-if="invoice.move_type == 'out_refund' ">
                        <t t-if="invoice.reverted_invoice_ids">
                            <td style="padding-left:10px; " width="50%" colspan="2">
                                <strong>Invoice Nr.:</strong><span style="padding-left:5px;"
                                                                   t-field="invoice.reverted_invoice_ids[0].reverted_invoice_full_number"/>
                            </td>
                        </t>
                        <t t-else="">
                            <td></td>
                            <td></td>
                        </t>
                    </t>
                    <t t-else="">
                        <td style="padding-left:10px; " width="50%" colspan="2">
                            <strong>Dispatch Nr.:</strong>
                        </td>
                    </t>
                </tr>
                <tr>
                    <td style="padding-left:10px; " width="50%">
                        <strong>Address:</strong><span style="padding-left:5px;" t-field="invoice.partner_id.street_name"/>
                    </td>
                    <td style="padding-left:10px; white-space:nowrap; " width="25%">
                        <strong>Phone:</strong><span style="padding-left:5px;" t-field="invoice.partner_id.phone"/>
                    </td>
                    <td style="padding-left:10px; white-space:nowrap; " width="25%">
                        <strong>Salesman:</strong><span style="padding-left:5px;" t-field="invoice.salesman_id.name"/>
                    </td>
                </tr>
            </table>

            <table width="100%"
                   height="650"
                   cellpadding="0"
                   cellspacing="0"
                   style="font-size:13px; margin-top:10px; border-top:2px solid black; border-bottom:2px solid black; border-left:1px solid black; border-right:1px solid black; border-collapse:separate; ">
                <style>
                    .text_center {text-align:center; }
                    .text {padding-left:5px; }
                    .amount {text-align:right; padding-right:5px; }
                    .table_header {text-align:center; vertical-align:middle;
                    text-weight:bold;
                    border-bottom:1px solid black; }
                    .column {}
                    .data_row {height:12px; border-right:1px solid gray; border-bottom:0px solid white; border-top:0px solid white; }
                    .data_last_row {height:12px; }
                </style>
                <thead style="border:0px solid white; ">
                    <tr>
                        <td class="table_header" style="border-right:1px solid black; " rowspan="2">Code</td>
                        <td class="table_header" style="border-right:1px solid black;" rowspan="2">Qty.</td>
                        <td class="table_header" style="border-right:1px solid black;" rowspan="2">Description</td>
                        <td class="table_header" style="border-right:1px solid black;" rowspan="2">Unit Price</td>
                        <td class="table_header" style="" colspan="2">Sales Values</td>
                    </tr>
                    <tr>
                        <td class="table_header" style="text-align:center; border-right:1px solid black;">Tax Free</td>
                        <td class="table_header" style="text-align:center; ">Tax Value 1</td>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="invoice.invoice_line_ids" t-as="row">
                        <tr height="15">
                            <td class="data_row text_center ">
                                <span t-field="row.product_id.default_code"/>
                            </td>
                            <td class="data_row amount ">
                                <span t-field="row.quantity"/>
                            </td>
                            <td class="data_row text ">
                                <span t-esc="row.get_edi_name()"/> (<span t-field="row.product_uom_id.symbol"/>)</td>
                            <td class="data_row amount ">
                                <span t-esc="report.format_value(row.price_unit, invoice.currency_id.id, False, 'Product Price')"/>
                            </td>
                            <td class="data_row amount ">
                                <span t-esc="report.format_value(row.get_sale_values()[1], invoice.currency_id.id)"/>
                            </td>
                            <td class="data_last_row amount ">
                                <span t-esc="report.format_value(row.get_sale_values()[3], invoice.currency_id.id)"/>
                            </td>
                        </tr>
                    </t>
                    <tr>
                        <t t-foreach="5" t-as="idx">
                            <td style="border-right:1px solid gray; border-top:0px solid white; border-bottom:0px solid white; " height="100%">

                            </td>
                        </t>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align:right; border-top:1px solid black; border-bottom:0px solid white;">
                            <strong>SUBTOTAL:</strong>
                        </td>
                        <td style=" border-top:1px solid black; border-right:1px solid black; border-bottom:0px solid white; " colspan="2"></td>
                        <td class="amount" style=" border-top:1px solid black; border-right:1px solid black; border-bottom:0px solid white;">
                            0
                        </td>
                        <td class="amount" style="padding-left:10px; border-top:1px solid black; border-bottom:0px solid white;">
                            <span t-esc="report.format_value(invoice.amount_total, invoice.currency_id.id)"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align:right; border-top:1px solid black; ">
                            <strong>TOTAL TO PAY:</strong>
                        </td>
                        <td style="padding-left:10px; border-top:1px solid black;" colspan="3">
                            <span t-esc="invoice.get_amount_total_text()"/>
                        </td>
                        <td class="amount"
                            style="padding-left:10px; border-left:1px solid black; border-top:1px solid black; border-bottom:0px solid white;">
                            <span t-esc="report.format_value(invoice.amount_total, invoice.currency_id.id)"/>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align:right; border-top:1px solid black; ">
                            <strong>TAXES LIQUIDATION:</strong>
                        </td>
                        <td colspan="4" style="text-align;center; border-top:1px solid black; ">
                            <table width="50%" style="border:0px solid white; margin-bottom:2px; margin-top:2px; ">
                                <tr>
                                    <td style="text-align:right; ">
                                        <strong>(TAX VALUE 1)</strong>
                                    </td>
                                    <td style="padding-left:10px; ">
                                        <span t-esc="report.format_value(invoice.amount_tax, invoice.currency_id.id)"/>
                                    </td>
                                    <td style="text-align:right; ">
                                        <strong>(TOTAL TAX):</strong>
                                    </td>
                                    <td style="padding-left:10px; ">
                                        <span t-esc="report.format_value(invoice.amount_tax, invoice.currency_id.id)"/>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table width="100%s" style="font-size:10px; padding-top:10px; border:0px solid white; ">
                <tr>
                    <td style="text-align:center; " colspan="3">
                        <span t-raw="report.printing_format_id.get_label('Comment',record=invoice)"/>
                    </td>
                </tr>
                <tr height="50">
                    <t t-foreach="3" t-as="data">
                        <td style="vertical-align:bottom; text-align:center; ">
                            _____________________________________
                        </td>
                    </t>
                </tr>
                <tr>
                    <td style="text-align:center; ">Authorized Sign</td>
                    <td style="text-align:center; ">Sign Clarification</td>
                    <td style="text-align:center; ">Document Nr.</td>
                </tr>
            </table>
        </div>
    </template>

    <template id="l10n_py_edi.account_einvoice_footer">
        <div class="footer">
            <table style="border:0px; border-collapse: separate;">
                <tr>
                    <td style="vertical-align:top; ">
                        <img t-if="invoice.qr_image" height="150px"
                             t-att-src="image_data_uri(invoice.qr_image)"/>

                    </td>
                    <td style="vertical-align:top; ">
                        <span t-raw="report.get_printing_format_footer(record=invoice)"/>
                    </td>
                </tr>
            </table>
        </div>
    </template>


    <template id="l10n_py_edi.account_einvoice">
        <t t-call="web.html_container">
            <t t-call="web.basic_layout">
                <!-- <t t-call="report.external_layout"> -->
                <t t-foreach="docs" t-as="invoice">
                    <t t-call="l10n_py_edi.account_einvoice_header" t-lang="invoice.partner_id.lang"/>
                    <t t-call="l10n_py_edi.account_einvoice_page" t-lang="invoice.partner_id.lang"/>
                    <t t-call="l10n_py_edi.account_einvoice_footer" t-lang="invoice.partner_id.lang"/>
                </t>

            </t>
        </t>
    </template>
</odoo>